# ios开发作业一 计算器开发

|  姓名  |   学号    |       邮箱        |
| :----: | :-------: | :---------------: |
| 吕玉龙 | 191220076 | 1931015836@qq.com |

本次工程仿照Apple官方的计算器实现了一个自己的计算器app，支持横屏和竖屏两种使用模型，以及所有按键的单步计算功能（除了左括号和右括号没有处理）。这个自行实现的计算器为了保证在竖屏的情况下，能显示计算结果而不超出label，故对于输入和输出的数字的长度有要求，输入不会超过1e10（以及对于小数的有效位数也有着相应的要求），同时输出结果大于1e10则会使用科学计数法来表示。该计算器唯一不尽如人意的地方在于对于三角函数的计算，对于某些数字没法得到非常精确的结果，原因在于使用数学库函数时，对于Π的使用有精度误差，所以对于边缘情况会有误差。



### 目录

+ Part one UI界面开发
+ Part two 计算功能的实现



### Part one UI界面

在实践视频的帮助下，很容完成对于竖屏的UI设计，唯一麻烦的地方在于横屏显示出不同的UI.

![1.1](1.1.png)

这里我是用了两个stackview来分别组织左边六列按钮以及只在竖屏显示的按钮，同时也为他们分别设置了constraints，同时对这些constraints进行了分别设置，即使用右侧两个小的蓝色的勾进行控制，从而达到只在竖屏或者横屏有效的设置。通过对于这些constraints的设置就实现横屏以及竖屏不同的UI界面了。对于圆角的设置则使用了keypath进行处理即可。

![2.1](2.1.png)

UI界面设置好了之后，将一些必要的UIButton和UILabel链接到viewcontroller中，以实现对按键的反应。例如对于“2nd”的控制就仿照helloworld的视频中演示的一样，利用UIButton的setTitle函数达到对于按钮字样的切换。



### Part two 计算功能实现

对于计算功能的实现，我参考了实践视频的一些框架。对于“123456789.”这十个button都绑定Numbertouched函数，剩下的按键均绑定Operationtouched函数。同时沿用了实践视频的digitondisplay，但是新建了一些限制（因为对于输入的长度有限制以及添加了小数点的处理，以及计算超界的处理）

